:root{
  --bg:#f6f8fa;
  --card:#fff;
  --accent:#0b74de;
  --muted:#6b7280;
}
*{box-sizing:border-box}
body{font-family:Segoe UI, Roboto, Arial, sans-serif;background:var(--bg);color:#111;margin:0;padding:0}
header{display:flex;align-items:center;justify-content:space-between;padding:16px 20px;background:linear-gradient(90deg,#0b74de22,transparent);border-bottom:1px solid #e6e9ee}
header h1{margin:0;font-size:18px}
.brand{display:flex;align-items:center;gap:12px}
.brand img#agiLogo{width:42px;height:42px;object-fit:contain;display:block}
.brand{text-decoration:none;color:inherit}
.brand:focus, .brand:hover{outline:0;opacity:0.95}
.brand:focus{box-shadow:0 0 0 3px rgba(11,116,222,0.12);border-radius:8px}

/* visually and functionally disable the brand link when not available */
.brand.disabled-brand{pointer-events:none;opacity:0.7;cursor:default}
.brand.disabled-brand img{filter:grayscale(40%);}
.actions{display:flex;gap:8px;align-items:center}
/* make header action controls visually consistent */
.actions > button,
.actions > .file-label {
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:8px;
  padding:8px 12px;
  height:36px;
  font-size:13px;
  border-radius:6px;
  cursor:pointer;
}
.actions > .file-label{background:var(--card)}
.actions > .file-label:hover{background: rgba(0,0,0,0.06); color: #000}
.file-label input{display:none}
button{background:var(--accent);color:#fff;border:0;padding:8px 12px;border-radius:6px;cursor:pointer}
/* Global hover/active transition for buttons: use a light-gray hover background and slight press effect */
button{transition:background 140ms ease, transform 120ms ease}
button:hover{background: rgba(0,0,0,0.06) !important; color: #000 !important}
button:active{background: rgba(0,0,0,0.08) !important; color: #000 !important; transform:translateY(1px)}
button:focus{color: #000 !important}
button[title]{background:#f97316}
.layout{display:flex;gap:12px;padding:20px}
.tabs{display:flex;flex-direction:column;gap:8px;width:var(--tabs-width,280px);flex:0 0 var(--tabs-width,280px)}
.tab{background:var(--card);border:1px solid #e6e9ee;padding:14px;border-radius:6px;text-align:left}
.tab.active{border-left:4px solid var(--accent);font-weight:600}
.tab{display:flex;flex-direction:column;align-items:flex-start}
.tab-title{font-weight:600;font-size:14px;color:#374151}
.tab-desc{font-size:12px;color:var(--muted);margin-top:4px}

.role-group{display:inline-flex;gap:6px;align-items:center}
.role-group input{display:none}
.role-group label{padding:8px 10px;border-radius:999px;background:#f3f6fb;border:1px solid #e6eef9;cursor:pointer;font-size:13px}
.role-group input:checked+label{background:var(--accent);color:#fff;border-color:var(--accent)}
#content{flex:1;background:var(--card);padding:20px;border-radius:8px;min-height:60vh}
.tab-panel{display:none}
.tab-panel.active{display:block}
.inline-form{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:12px}
.inline-form input{padding:8px;border:1px solid #e6e9ee;border-radius:6px}
.inline-form input[type="date"]{height:36px;padding:6px 8px}
.inline-form input::placeholder{color:var(--muted);opacity:1;font-size:13px}
.list{list-style:none;padding:0;margin:0}
.list li{padding:10px;border-bottom:1px solid #f1f3f5;display:flex;justify-content:space-between}

#userTable{width:100%;border-collapse:collapse;margin-top:8px}
#userTable thead th{background:#f8fafc;padding:8px;border:1px solid #eef2f7;text-align:left}
#userTable tbody td{padding:8px;border:1px solid #f1f3f5}
#userTable tbody tr:nth-child(even){background:#fcfdff}
#userTable button{padding:6px 8px;border-radius:6px;border:0;cursor:pointer}
#userTable .edit{background:#0b74de;color:#fff}
#userTable .del{background:#ef4444;color:#fff}
#unitTable{width:100%;border-collapse:separate;border-spacing:0 8px;margin-top:12px}
#unitTable thead th{background:transparent;padding:10px 12px;text-align:left;color:#333;font-size:13px}
#unitTable tbody td{background:#fff;padding:12px;border:1px solid #eef2f7;vertical-align:top}
#unitTable tbody tr td:first-child{font-weight:600}
#unitTable tbody tr:nth-child(even) td{background:#fcfdff}
#unitTable tbody tr:hover td{background:#f8fbff}
#unitTable td{font-size:14px;color:#111}
#unitTable td:nth-child(7){text-align:right;font-variant-numeric:tabular-nums}
#unitTable td:nth-child(8), #unitTable td:nth-child(9){max-width:260px;white-space:normal;word-break:break-word}
#unitTable .dev-actions{justify-content:flex-end}
#unitTable button{padding:6px 8px;border-radius:6px;border:0;cursor:pointer}

/* Invoice table styling for legibility */
#invoiceTable{width:100%;border-collapse:separate;border-spacing:0 8px;margin-top:12px}
#invoiceTable thead th{background:transparent;padding:10px 12px;text-align:left;color:#333;font-size:13px}
#invoiceTable tbody td{background:#fff;padding:10px 12px;border:1px solid #eef2f7;vertical-align:top}
#invoiceTable tbody tr:nth-child(even) td{background:#fcfdff}
#invoiceTable tbody tr:hover td{background:#f8fbff}
#invoiceTable td{font-size:14px;color:#111}
#invoiceTable th:nth-child(5), #invoiceTable td:nth-child(5){width:90px}
#invoiceTable td:nth-child(5){overflow:hidden;white-space:nowrap;text-overflow:ellipsis}
#invoiceTable th:nth-child(6), #invoiceTable td:nth-child(6){width:100px}
#invoiceTable td:nth-child(6){overflow:hidden;white-space:nowrap;text-overflow:ellipsis;text-align:right}
#invoiceTable th:nth-child(7), #invoiceTable td:nth-child(7){width:120px}
#invoiceTable td:nth-child(7){overflow:hidden;white-space:nowrap;text-overflow:ellipsis}
#invoiceTable th:nth-child(8), #invoiceTable td:nth-child(8){width:120px}
#invoiceTable td:nth-child(8){overflow:hidden;white-space:nowrap;text-overflow:ellipsis}
#invoiceTable th:nth-child(9), #invoiceTable td:nth-child(9){width:160px}
#invoiceTable td:nth-child(9){overflow:hidden;white-space:nowrap;text-overflow:ellipsis}
#invoiceTable td:nth-child(10){text-align:right;font-variant-numeric:tabular-nums}
#invoiceTable td:nth-child(13){text-align:center}
#invoiceTable td:nth-child(14){max-width:260px;white-space:normal;word-break:break-word}
#invoiceTable .actions{display:flex;gap:6px;justify-content:flex-end}
#invoiceTable button{padding:6px 8px;border-radius:6px;border:0;cursor:pointer}
#invoiceTable .edit{background:#0b74de;color:#fff}
#invoiceTable .del{background:#ef4444;color:#fff}

/* Ensure invoice composite cell content truncates */
.invoice-cell > div {
  display: block;
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
}

/* Truncation rules for other invoice composite cells */
.amount-cell > div, .period-cell > div, .submitted-cell > div, .comment-cell > div {
  display:block;
  overflow:hidden;
  white-space:nowrap;
  text-overflow:ellipsis;
}

.small-muted{color:var(--muted);font-size:12px}
#invoiceTable .lease-number{font-weight:600}
#invoiceTable .period-cell{line-height:1.15}
#invoiceTable .period-cell .period-from,
#invoiceTable .period-cell .period-to{
  color: #111;
  font-size: 14px;
}
#overviewSummary{display:flex;gap:12px;flex-wrap:wrap}
.summaryCard{background:#fff;padding:12px;border-radius:8px;min-width:150px;border:1px solid #eef2f7}
.dev-actions{display:flex;gap:6px}
.dev-actions button{padding:6px 8px;border-radius:6px;border:0;cursor:pointer}
.dev-actions button:nth-child(1){background:#0b74de;color:#fff}
.dev-actions button:nth-child(2){background:#ef4444;color:#fff}
#devCompanyList li, #devRentalList li{display:flex;justify-content:space-between;align-items:center;padding:8px;border-bottom:1px solid #f1f3f5}
/* separator between developer input/list groups */
.dev-controls{padding:8px 0;border-top:1px solid #000;border-bottom:1px solid #000;margin-bottom:12px}
footer{padding:12px;text-align:center;color:var(--muted)}
@media(max-width:700px){
  .layout{flex-direction:column;padding:12px}
  .tabs{flex-direction:row;overflow:auto;width:auto;flex:0 0 auto}
  .splitter{display:none}
}

/* splitter (vertical) */
.splitter{width:10px;cursor:col-resize;background:linear-gradient(90deg,transparent,rgba(0,0,0,0.04),transparent);border-radius:4px}
.splitter:hover{background:linear-gradient(90deg,transparent,rgba(0,0,0,0.08),transparent)}

/* Login gate / card */
.login-gate{
  position: fixed;
  left: 0;
  right: 0;
  top: var(--header-height, 72px);
  height: calc(100vh - var(--header-height, 72px));
  display:flex;
  align-items:center;
  justify-content:center;
  padding:20px;
  background:url('EmielPlane.jpg') center/cover no-repeat;
  z-index: 1000;
}
.login-card{
  background:var(--card);
  padding:36px 40px;
  border-radius:12px;
  box-shadow:0 10px 30px rgba(11,116,222,0.08);
  width:720px;
  max-width:calc(100% - 40px);
  min-height:440px;
  display:flex;
  align-items:center;
  justify-content:center;
  border:1px solid #eef3fb;
}
.login-title{margin:0 0 12px 0;font-size:20px;text-align:center}
.login-form{display:flex;flex-direction:column;gap:10px;max-width:380px;width:100%;}
.login-label{display:flex;flex-direction:column;font-size:13px;color:var(--muted)}
.login-label input{margin-top:6px;padding:10px;border-radius:8px;border:1px solid #e6e9ee}
.form-actions{display:flex;justify-content:center;margin-top:6px}
@media (max-width:760px){
  .login-card{width:100%;min-height:auto;padding:20px;border-radius:8px}
  .login-form{max-width:100%}
}

/* AGI Process Menu styles */
.process-menu{position:fixed;left:0;right:0;top:var(--header-height,72px);height:calc(100vh - var(--header-height,72px));display:flex;align-items:center;justify-content:center;background:url('EvaPlane.jpg') center/cover no-repeat;z-index:900}
.process-card{background:var(--card);width:760px;max-width:calc(100% - 40px);padding:22px;border-radius:10px;box-shadow:0 12px 30px rgba(2,6,23,0.08);border:1px solid #eef3f9}
.process-card h2{margin:0 0 6px 0;font-size:20px}
.process-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:12px;margin-top:12px}
.process-btn{background:var(--accent);border:1px solid transparent;padding:12px 16px;border-radius:8px;font-size:15px;cursor:pointer;text-align:left;color:#fff;box-shadow:none}
.process-btn.primary{background:var(--accent);border:1px solid transparent;color:#fff}
.process-btn{transition:background-color 160ms ease,color 160ms ease,transform 120ms ease}
.process-btn:hover, .process-btn:focus{background:#e6e6e6;color:#111;transform:translateY(-2px)}
.process-btn:active{transform:translateY(0)}
.process-btn:hover{transform:translateY(-2px);box-shadow:0 8px 20px rgba(2,6,23,0.06)}
.process-card .small-muted{color:var(--muted);margin-top:6px}

/* Overview months row: 12 equal square blocks */
.months-row{display:flex;gap:8px;flex-wrap:nowrap;align-items:center}
.month-square{width:56px;height:56px;background:#fff;border-radius:6px;border:1px solid #eef2f7;display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden;box-shadow:0 1px 0 rgba(2,6,23,0.02)}
.month-square .month-fill{position:absolute;left:0;bottom:0;height:100%;width:0%;background:#16a34a;transition:width 300ms ease}
.month-square .month-remaining{position:absolute;right:0;bottom:0;height:100%;width:100%;background:rgba(239,68,68,0.15)}
.month-square .month-label{position:relative;z-index:2;font-weight:600;font-size:12px;text-align:center;color:#111}
.month-square[aria-disabled="true"]{opacity:0.6}
.month-square:focus{outline:0;box-shadow:0 0 0 3px rgba(22,163,74,0.08)}

/* Unit overview grid and day squares */
.unit-grid{overflow:auto;margin-top:8px}
.unit-grid .grid-row{display:grid;align-items:center;gap:6px;margin-top:6px}
.unit-label{font-size:13px;padding:6px 8px;background:#fff;border:1px solid #eef2f7;border-radius:6px}
.day-square{width:36px;height:36px;border-radius:6px;border:1px solid #eef2f7;background:#fff;display:flex;align-items:center;justify-content:center;font-size:12px}
.day-square.header{font-weight:700;background:#f8fafc;border-color:#e6eef9}
.day-invoiced{background:#dcfce7;border-color:#16a34a}
.day-disabled{background:#fef3c7;border-color:#f59e0b}
.day-invoiced.start{ border-top-left-radius:8px; border-bottom-left-radius:8px; }
.day-invoiced.end{ border-top-right-radius:8px; border-bottom-right-radius:8px; }
.day-invoiced.start.end{ border-radius:8px; }

/* Submitted registries marker: additive small blue dot so it doesn't override invoiced color */
.day-submitted{position:relative}
.day-submitted::after{content:'';position:absolute;right:6px;bottom:6px;width:8px;height:8px;border-radius:50%;background:#0b74de;box-shadow:0 0 0 2px rgba(11,116,222,0.12)}

/* Unit dropdown panel: position absolute so it doesn't push form layout when opened */
.unit-dropdown{position:relative;display:inline-block}
.unit-dropdown .dropdown-toggle{min-width:120px}
.unit-dropdown .dropdown-panel{position:absolute;left:0;top:calc(100% + 6px);z-index:60;width:320px;max-height:220px;overflow:auto;padding:8px;border:1px solid #e6eef6;border-radius:8px;background:#fff;box-shadow:0 8px 20px rgba(2,6,23,0.08)}

/* Keep the comment textarea and invoice action buttons stable to avoid layout shift */
.inline-form textarea{width:320px;min-width:260px;max-width:480px;resize:vertical;padding:8px;border:1px solid #e6e9ee;border-radius:6px}
.unit-dropdown .dropdown-toggle, .inline-form button[type="submit"]{
  min-width:140px;
  height:36px;
  padding:8px 12px;
  display:inline-flex;
  align-items:center;
  justify-content:center;
}
.inline-form button[type="submit"], .inline-form button[type="button"]{min-width:120px}

@media(max-width:700px){
  .unit-dropdown .dropdown-panel{position:static;width:100%;box-shadow:none;margin-top:6px}
  .inline-form textarea{width:100%;min-width:0}
  .inline-form button[type="submit"], .inline-form button[type="button"]{min-width:80px}
}

/* Modal for comment editing */
.modal{position:fixed;inset:0;z-index:120;min-height:100vh;display:flex;align-items:center;justify-content:center}
.modal-backdrop{position:absolute;left:0;top:0;right:0;bottom:0;background:rgba(0,0,0,0.28)}
/* center the dialog exactly in the viewport */
.modal-dialog{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:#fff;padding:16px;border-radius:8px;max-width:560px;width:100%;box-shadow:0 12px 30px rgba(2,6,23,0.12);z-index:121;max-height:80vh;overflow:auto}
.modal-content{position:relative;background:#fff;padding:20px;border-radius:8px;box-shadow:0 12px 30px rgba(2,6,23,0.12);z-index:121;max-height:80vh;overflow-y:auto}
.modal-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;padding-bottom:12px;border-bottom:1px solid #e6e9ee}
.modal-dialog h3{margin:0 0 8px 0}
.info-button{background:#eef6ff;color:#0b74de;border:1px solid #dbeefe;padding:8px 12px;border-radius:6px;cursor:pointer}

/* Utility button styles to match invoice submit and saved states */
.btn-primary{background:var(--accent);color:#fff;border:0}
.btn-warning{background:#f97316;color:#fff;border:0}

/* Ensure Add Comment button matches Add Invoice size and alignment */
#invoiceCommentBtn{min-width:140px;height:36px;padding:8px 12px;display:inline-flex;align-items:center;justify-content:center;border-radius:6px}

/* Force Add Comment button to use primary blue even if global button[title] rule applies */
#invoiceCommentBtn, #invoiceCommentBtn.btn-primary {
  background: var(--accent) !important;
  color: #fff !important;
  border: 0 !important;
}
#invoiceCommentBtn:hover{ 
  background: rgba(0,0,0,0.06) !important; 
  color: #000 !important; 
}

/* Legends: make titles bold and black for information boxes */
.lease-legend, .category-legend, .unit-legend, .wd-legend, .amount-legend, .period-legend, .submitted-legend, .comment-legend {
  color: #111 !important;
  font-weight: 700;
  font-size: 12px;
  margin-bottom: 2px;
}

.invoice-doc-primary { font-weight: 600; color: #111; }

/* Lease overview list */
.lease-list{margin-top:8px;border-collapse:separate;border-spacing:0 8px;width:100%}
.lease-row{display:grid;grid-template-columns:220px 1fr 160px 140px;gap:8px;align-items:center;padding:8px;border-radius:8px;background:#fff;border:1px solid #eef2f7}
.lease-row.highlighted{background:#dcfce7;border-color:#16a34a}
.lease-row.header div{cursor:pointer}
.lease-row.header div:hover{opacity:0.95}
.sort-indicator{margin-left:6px;font-size:11px;color:var(--muted)}
.lease-row .small-muted{font-size:12px;color:var(--muted)}

/* Compact lease 'more' button: match background (transparent) so it blends inline
   with the lease label. Provide subtle hover/focus styles for affordance. */
.lease-more-btn{
  /* main background matches page background so the control visually blends */
  background: var(--bg);
  border: 0;
  color: inherit;
  padding: 4px 8px;
  border-radius: 6px;
  margin-left: 8px;
  cursor: pointer;
  font-size: 14px;
  line-height: 1;
}
.lease-more-btn:hover{ background: var(--bg); }
.lease-more-btn:focus{ outline: 0; box-shadow: 0 0 0 3px rgba(11,116,222,0.12); }

/* Stronger override for buttons that have a title attribute (there is a
   global rule `button[title]{background:#f97316}`); ensure the compact
   lease more button never becomes orange. Use more specific selector and
   !important to reliably override previously-declared rules. */
button.lease-more-btn, button.lease-more-btn[title] {
  background: var(--bg) !important;
  color: inherit !important;
  border: 0 !important;
}
button.lease-more-btn:hover, button.lease-more-btn[title]:hover{
  /* slightly darker gray for hover affordance */
  background: rgba(0,0,0,0.06) !important;
}



